



<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using Symfony Dependency Injection with Zend_Application &mdash; Whitewashing</title>
    
    <link rel="stylesheet" href="../../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/disqus.js"></script>
    <script type="text/javascript" src="../../../_static/ga.js"></script>
    <link rel="shortcut icon" href="../../../_static/tinkerer.ico"/>
    
    <link rel="top" title="Whitewashing" href="../../../index.html" />
    <link rel="next" title="PDT: Back to easyeclipse with PHP extension" href="../../../2008/02/12/pdt-back-to-easyeclipse-with-php-extension.html" />
    <link rel="prev" title="PHP CodeSniffer Support for Netbeans" href="../30/php-codesniffer-support-for-netbeans.html" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="../../../rss.html" /> 
  </head>
  <body>
<div class="container">
    <div id="header" class="span-8">
        <a href="../../../index.html"><img src="../../../_static/logo.jpg" alt="Whitewashing.de" /></a>
    </div>
    <div class="span-11" id="about">
        <p>
            Whitewashing is the blog of Benjamin Eberlei and covers topics in software-development and object-oriented-design. Benjamin works
            for <a href="http://qafoo.com/" target="_blank">Qafoo</a> and you can book him for consulting and trainings.
        </p>
    </div>
    <div class="span-5 last">
        <p class="buttons" style="text-align: right">
            <a href="https://twitter.com/beberlei"><img src="../../../_static/twitter-logo.png" alt="Follow me on twitter" height="50" /></a>
            <a href="http://www.whitewashing.de/rss.xml"><img src="../../../_static/rss2.png" alt="Subscribe to RSS" height="50" /></a>
            <a href="https://github.com/beberlei"><img src="../../../_static/github-logo.png" alt="My Github Profile" height="50" /></a>
        </p>
    </div>
</div>



    <div class="document">
<div class="container">
    
    <div class="span-24 content">
      <div>
        <div>
          <div id="2009-07-04-using-symfony-dependency-injection-with-zend-application">
            
            
    
    <div class="related">
        <ul>
            <li>
                 &laquo; <a href="../30/php-codesniffer-support-for-netbeans.html">PHP CodeSniffer Support for Netbeans</a>
            </li>
            <li class="right">
                <a href="../../../2008/02/12/pdt-back-to-easyeclipse-with-php-extension.html">PDT: Back to easyeclipse with PHP extension</a> &raquo; 
            </li>
        </ul>
    </div>
    
        <div class="timestamp postmeta">
            <span>July 04, 2009</span> 
        </div>
    <div class="section" id="using-symfony-dependency-injection-with-zend-application">
<h1>Using Symfony Dependency Injection with Zend_Application</h1>
<p>As a follow-up to my <a class="reference external" href="http://www.whitewashing.de/blog/articles/117">recent
post</a> on Dependency
Injection containers and Zend_Application I was eager to find out if
its possible to integrate the new <a class="reference external" href="http://components.symfony-project.org/dependency-injection/">Symfony Dependency Injection
Container</a>
into the Zend Framework. To my surprise it&#8217;s possible without having to
make any changes to one of the two components. An example use-case would
look like:</p>
<blockquote>
<div><div class="highlight-python"><pre>$container = new sfServiceContainerBuilder();

$loader = new sfServiceContainerLoaderFileXml($container);
$loader-&gt;load(APPLICATION_PATH.'/config/objects.xml');

$application = new Zend_Application(
    APPLICATION_ENV,
    APPLICATION_PATH . '/config/application.xml'
);
$application-&gt;getBootstrap()-&gt;setContainer($container);
$application-&gt;bootstrap()
            -&gt;run();</pre>
</div>
</div></blockquote>
<p>Resources instantiated by Zend_Application are then injected into the
container by the name of the resource and are given the resource
instance. Any object from the Symfony container can then use these
dependencies in their object setup. The only drawback of the integration
is the fact that the Symfony Container is case-sensitive in regards to
the service names but Zend_Application lower-cases all service before
injecting them into the container. The following code is a restatement
of my previous example of a <strong>MyModel</strong> class which requires a
<strong>Zend_Db</strong> and <strong>Zend_Cache</strong> constructor argument.</p>
<blockquote>
<div><div class="highlight-python"><pre>$container-&gt;register('myModel', 'MyModel')
          -&gt;addArgument(new sfServiceReference('db'))
          -&gt;addArgument(new sfServiceReference('cache'));</pre>
</div>
</div></blockquote>
<p>Access to a MyModel instance with its dependencies is then granted
through the call <strong>$container-&gt;myModel</strong> throughout the application.
Make sure to call this after running Zend_Application::bootstrap, so
that the Resource dependencies are injected first.</p>
</div>

    
    <div class="postmeta">
        
        <div class="author">
            <span>Posted by beberlei <kontakt@beberlei.de></span>
        </div>
        
        
        
    </div>
    <div id="disqus_thread"></div><script type="text/javascript">    var disqus_shortname = "whitewashing";    var disqus_identifier = "2009/07/04/using-symfony-dependency-injection-with-zend-application";    disqus_thread();</script><noscript>Please enable JavaScript to view the    <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'whitewashing';
                var disqus_url = 'http://www.whitewashing.de/2009/07/04/using-symfony-dependency-injection-with-zend-application.html';
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
          </div>         
        </div>
      </div>
    </div>

    <div class="span-24 last">
        
          
            <div class="yui-b" id="sidebar">
              
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

<div class="widget">
    <h3>Recent Posts</h3>
    <ul>
        <li class="recent_post">
            <a href="../../../2013/11/19/setting_up_development_machines_ansible_edition.html">Setting up development machines: Ansible edition</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/09/04/decoupling_from_symfony_security_and_fosuserbundle.html">Decoupling from Symfony Security and FOSUserBundle</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/08/19/speedup_symfony2_on_vagrant_boxes.html">Speedup Symfony2 on Vagrant boxes</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/08/09/your_service_layer_benefits_from_a_dispatcher.html">Your Service Layer benefits from a Dispatcher</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/07/24/doctrine_and_domainevents.html">Doctrine and Domain Events</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/06/27/extending_symfony2__controller_utilities.html">Extending Symfony2: Controller Utilities</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/06/24/bounded_contexts.html">Bounded Contexts</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/05/23/symfony2_on_windows_azure_websites.html">Symfony2 on Windows Azure Websites</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/04/12/traits_are_static_access.html">Traits are Static Access</a>
        </li>
        <li class="recent_post">
            <a href="../../../2013/04/06/a_failed_side_project.html">Lessons learned: A failed side project</a>
        </li>
    </ul>
</div>

        </div>
      </div>
            </div> 
          
        
    </div>
</div>

      <div class="clearer"></div>
    </div>
<div class="container">
    <div class="span-24 content">
        <div class="footer">
            &copy; Copyright 2008-2012, Benjamin Eberlei.
            Powered by <a href="http://www.tinkerer.me/">Tinkerer</a> and <a href="http://sphinx.pocoo.org/">Sphinx</a>.

        
        </div>
    </div>
</div>

  </body>
</html>